wpJsonpFlightsWidget([1],{"+drO":function(t,e,s){"use strict";var a={name:"formit-multicheckbox",mixins:[s("JHA3").a],data:function(){return{checkedItems:[]}},created:function(){this.checkedItems=this.currentValue},methods:{isSelected:function(t){return this.currentValue.includes(t)},onChange:function(t){!0===t.target.checked?this.checkedItems.push(t.target.value):this.checkedItems.splice(this.checkedItems.indexOf(t.target.value),1),this.$emit("input",this.checkedItems)}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"formit-multicheckbox-wrap"},t._l(t.selectOptions,function(e,a){return s("span",{key:a},[s("label",[s("input",t._b({ref:"input",refInFor:!0,attrs:{type:"checkbox",name:t.name},domProps:{value:a,checked:t.isSelected(a)},on:{change:t.onChange}},"input",t.attributes,!1)),t._v("\n        "+t._s(e))]),s("br")])}),0)},staticRenderFns:[]},n=s("VU/8")(a,i,!1,null,null,null);e.a=n.exports},"+omK":function(t,e,s){"use strict";var a=s("mtWM"),i=s.n(a),n=s("mw3O"),o=s.n(n),l={name:"delete-field-dialog",props:{field_id:"",field_name:"",updateStatus:""},data:function(){return{loading:!1,labels:wpumFieldsEditor.labels}},methods:{deleteField:function(){var t=this;this.loading=!0,i.a.post(wpumFieldsEditor.ajax,o.a.stringify({nonce:wpumFieldsEditor.delete_field_nonce,field_id:this.field_id}),{params:{action:"wpum_delete_field"}}).then(function(e){t.loading=!1,t.updateStatus("success",e.data.data.field_id),t.$emit("close")}).catch(function(e){t.loading=!1,t.updateStatus("error",e.response.data),t.$emit("close")})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"delete-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-title"},[s("h1",[s("span",{staticClass:"dashicons dashicons-warning delete"}),t._v(" "+t._s(t.labels.confirm_delete))])]),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("p",[t._v(t._s(t.labels.fields_delete_1)+" "),s("strong",[t._v(t._s(t.field_name))])]),t._v(" "),s("p",[t._v(t._s(t.labels.fields_delete_2))])]),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading},on:{click:function(e){return t.deleteField()}}},[t._v(t._s(t.labels.fields_delete))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]},d=s("VU/8")(l,r,!1,null,null,null);e.a=d.exports},"/dCL":function(t,e){},0:function(t,e){},"1FAl":function(t,e,s){"use strict";var a={name:"formit-checkbox",mixins:[s("JHA3").a]},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"formit-checkbox-wrapper"},[e("label",{attrs:{for:this.name}},[e("input",this._b({ref:"input",attrs:{type:"checkbox",name:this.name},domProps:{checked:this.currentValue},on:{change:this.handleChange}},"input",this.attributes,!1))])])},staticRenderFns:[]},n=s("VU/8")(a,i,!1,null,null,null);e.a=n.exports},"4wDe":function(t,e,s){"use strict";var a={name:"wp-notice",props:{type:String,alternative:Boolean,dismissible:Boolean},computed:{classes:function(){return["vue-wp-notice","notice-"+this.type,this.alternative?"is-alt":"",this.dismissible?"is-dismissible":""]}},data:function(){return{closed:!1}},methods:{close:function(t){this.closed=!0,this.$emit("on-close",t)}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.closed?t._e():s("div",{class:t.classes},[s("p",[t._t("default")],2),t._v(" "),t.dismissible?s("button",{staticClass:"notice-dismiss",attrs:{type:"button"},on:{click:t.close}},[s("span",{staticClass:"screen-reader-text"},[t._v("Dismiss this notice.")])]):t._e()])},staticRenderFns:[]};var n=s("VU/8")(a,i,!1,function(t){s("D0GN")},null,null);e.a=n.exports},D0GN:function(t,e){},EAJj:function(t,e){},ETmr:function(t,e){},FMNq:function(t,e){},L0yy:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},n=s("VU/8")({name:"App"},i,!1,null,null,null).exports,o=s("/ocq"),l=s("mtWM"),r=s.n(l),d=s("vCKl"),c=s.n(d),u=(s("ETmr"),s("mw3O")),m=s.n(u),p={name:"delete-dialog",props:{form:"",form_id:"",updateStatus:""},data:function(){return{loading:!1,labels:wpumRegistrationFormsEditor.labels}},methods:{deleteForm:function(){var t=this;this.loading=!0,r.a.post(wpumRegistrationFormsEditor.ajax,m.a.stringify({nonce:wpumRegistrationFormsEditor.delete_form_nonce,form_id:this.form_id}),{params:{action:"wpum_delete_registration_form"}}).then(function(e){t.loading=!1,t.updateStatus("success",e),t.$emit("close")}).catch(function(e){t.loading=!1,t.updateStatus("error",e.response.data),t.$emit("close")})}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"delete-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-title"},[s("h1",[s("span",{staticClass:"dashicons dashicons-warning"}),t._v(" "+t._s(t.labels.confirm_delete))])]),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("p",[t._v(t._s(t.labels.modal_form_delete)+" "),s("strong",[t._v(t._s(t.form))]),t._v(". "+t._s(t.labels.modal_delete))])]),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading},domProps:{textContent:t._s(t.labels.table_delete_form)},on:{click:function(e){return t.deleteForm()}}})])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]},_=s("VU/8")(p,f,!1,null,null,null).exports,h={name:"edit-form-dialog",props:{form_id:"",form_name:"",updateFormDetails:""},data:function(){return{loading:!1,labels:wpumRegistrationFormsEditor.labels,formName:""}},mounted:function(){this.formName=this.form_name},methods:{updateForm:function(){var t=this;this.loading=!0,r.a.post(wpumRegistrationFormsEditor.ajax,m.a.stringify({nonce:wpumRegistrationFormsEditor.nonce,form_id:this.form_id,form_name:this.formName}),{params:{action:"wpum_update_registration_form"}}).then(function(e){t.loading=!1,t.updateFormDetails("success",e.data.data),t.$emit("close")}).catch(function(e){t.loading=!1,t.updateFormDetails("error",e.response.data),t.$emit("close")})}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"edit-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-title"},[s("h1",[t._v(t._s(t.labels.table_edit_form))])]),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("form",{staticClass:"dialog-form",attrs:{action:"#",method:"post"}},[s("label",{attrs:{for:"form-name","data-balloon":t.labels.tooltip_form_name,"data-balloon-pos":"right"}},[s("span",[t._v(t._s(t.labels.table_name))]),t._v(" "),s("span",{staticClass:"dashicons dashicons-editor-help"})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formName,expression:"formName"}],attrs:{type:"text",name:"form-name",id:"form-name",value:""},domProps:{value:t.formName},on:{input:function(e){e.target.composing||(t.formName=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading},domProps:{textContent:t._s(t.labels.save)},on:{click:function(e){return t.updateForm()}}})])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]},g=s("VU/8")(h,v,!1,null,null,null).exports,b={name:"premium-dialog",props:{type:{type:String,default:""}},data:function(){return{labels:wpumRegistrationFormsEditor.labels,wpumRegistrationFormsEditor:wpumRegistrationFormsEditor}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"premium-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[t._m(1),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("p",{domProps:{innerHTML:t._s(t.labels["premium_addon"+t.type])}})]),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[s("a",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{href:t.wpumRegistrationFormsEditor.addon_url,target:"_blank"}},[t._v(t._s(t.labels.purchase))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-frame-title"},[e("h1",[e("span",{staticClass:"dashicons dashicons-warning"}),this._v(" Premium addon required")])])}]},C=s("VU/8")(b,w,!1,null,null,null).exports,F={name:"create-form-dialog",props:{addNewForm:""},data:function(){return{loading:!1,labels:wpumRegistrationFormsEditor.labels,formName:""}},methods:{createForm:function(){var t=this;this.loading=!0,r.a.post(wpumRegistrationFormsEditor.ajax,m.a.stringify({nonce:wpumRegistrationFormsEditor.nonce,form_name:this.formName}),{params:{action:"wpum_create_registration_form"}}).then(function(e){t.loading=!1,t.addNewForm("success",e.data.data),t.$emit("close")}).catch(function(e){t.loading=!1,t.addNewForm("error",e.response),t.$emit("close")})}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"create-form-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-title"},[s("h1",[t._v(t._s(t.labels.table_add_form))])]),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("form",{staticClass:"dialog-form",attrs:{action:"#",method:"post"}},[s("label",{attrs:{for:"form-name","data-balloon":t.labels.tooltip_form_name,"data-balloon-pos":"right"}},[s("span",[t._v(t._s(t.labels.table_name))]),t._v(" "),s("span",{staticClass:"dashicons dashicons-editor-help"})]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.formName,expression:"formName"}],attrs:{type:"text",name:"form-name",id:"form-name",value:""},domProps:{value:t.formName},on:{input:function(e){e.target.composing||(t.formName=e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading},domProps:{textContent:t._s(t.labels.create_form)},on:{click:function(e){return t.createForm()}}})])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]},x=s("VU/8")(F,y,!1,null,null,null).exports,E=s("4BeE"),k=s.n(E),$=s("etT0"),R=s.n($),S={name:"registration-forms-list",components:{DeleteDialog:_,EditFormDialog:g},data:function(){return{labels:wpumRegistrationFormsEditor.labels,pluginURL:wpumRegistrationFormsEditor.pluginURL,loading:!1,forms:"",showMessage:!1,messageStatus:"success",isAddonInstalled:wpumRegistrationFormsEditor.is_addon_installed,messageText:wpumRegistrationFormsEditor.labels.success_message}},created:function(){this.getForms()},methods:{sanitized:function(t){return c()(t)},isDefault:function(t){return!0===t.default},showSuccess:function(){this.loading=!1,this.showMessage=!0,this.messageStatus="success",this.messageText=wpumRegistrationFormsEditor.labels.success_message,this.resetMessages()},showError:function(t){this.loading=!1,this.showMessage=!0,this.messageStatus="error",this.messageText=t,this.resetMessages()},resetMessages:function(){var t=this;setInterval(function(){t.$data.showMessage=!1},4e3)},getForms:function(){var t=this;this.loading=!0,r.a.get(wpumRegistrationFormsEditor.ajax,{params:{nonce:wpumRegistrationFormsEditor.getFormsNonce,action:"wpum_get_registration_forms"}}).then(function(e){t.loading=!1,t.forms=e.data.data}).catch(function(e){t.loading=!1,console.log(e)})},showDeleteDialog:function(t,e){var s=this;this.$modal.show(_,{form:t,form_id:e,updateStatus:function(t,e){"error"==t?s.showError(e):(k()(s.forms,{id:e.data.data}),s.showSuccess())}},{height:"210px"})},showEditFormDialog:function(t){var e=this;this.$modal.show(g,{form_id:t.id,form_name:t.name,updateFormDetails:function(t,s){if("error"==t)e.showError(s);else{var a=R()(e.forms,function(t){return t.id==s.id});e.forms[a].name=s.name,e.showSuccess()}}},{height:"250px"})},showAddRegistrationFormDialog:function(){var t=this;wpumRegistrationFormsEditor.is_addon_installed?this.$modal.show(x,{addNewForm:function(e,s){"error"==e?t.showError(s):(t.showSuccess(),t.forms.push(s))}},{height:"250px"}):this.$modal.show(C,{},{height:"220px"})}}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wpum-registration-forms-list"},[s("h1",{staticClass:"wp-heading-inline"},[s("img",{attrs:{src:t.pluginURL+"assets/images/logo.svg",alt:"WP User Manager"}}),t._v("\n\t\t"+t._s(t.labels.page_title)+"\n\t")]),t._v(" "),s("a",{staticClass:"page-title-action",attrs:{href:"#",id:"wpum-add-form"},on:{click:function(e){return t.showAddRegistrationFormDialog()}}},[s("span",{staticClass:"dashicons dashicons-plus-alt"}),t._v(" "),s("span",{domProps:{textContent:t._s(t.sanitized(t.labels.table_add_form))}})]),t._v(" "),s("br"),s("br"),t._v(" "),t.showMessage?s("wp-notice",{attrs:{type:t.messageStatus}},[s("strong",[t._v(t._s(t.sanitized(t.messageText)))])]):t._e(),t._v(" "),s("v-dialog"),t._v(" "),s("modals-container"),t._v(" "),s("table",{staticClass:"wp-list-table widefat fixed striped wpum-registration-forms-table"},[s("thead",[s("tr",[s("th",{staticClass:"column-primary",attrs:{scope:"col"}},[t._v(t._s(t.labels.table_name))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.labels.table_fields))]),t._v(" "),s("th",{attrs:{scope:"col","data-balloon":t.labels.table_default_tooltip,"data-balloon-pos":"left"}},[t._v(t._s(t.labels.table_default))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.labels.table_role))]),t._v(" "),t.isAddonInstalled?s("th",{attrs:{scope:"col"}},[t._v(t._s(t.labels.table_shortcode))]):t._e(),t._v(" "),t.isAddonInstalled?s("th",{attrs:{scope:"col"}},[t._v(t._s(t.labels.table_signup_total))]):t._e(),t._v(" "),s("th",{attrs:{scope:"col"},domProps:{textContent:t._s(t.sanitized(t.labels.table_actions))}})])]),t._v(" "),s("tbody",[t.loading?s("tr",{staticClass:"no-items"},[t._m(0)]):t._e(),t._v(" "),t.forms.length<1&&!t.loading?s("tr",{staticClass:"no-items"},[s("td",{staticClass:"colspanchange",attrs:{colspan:"4"}},[s("strong",[t._v(t._s(t.labels.table_not_found))])])]):t._e(),t._v(" "),t._l(t.forms,function(e){return t.forms?s("tr",{key:e.id},[s("td",[s("strong",[s("router-link",{attrs:{to:{name:"form",params:{id:e.id}}}},[t._v(t._s(e.name))])],1),s("br"),t._v(" "),s("div",{staticClass:"row-actions"},[s("span",[s("a",{attrs:{href:"#"},domProps:{textContent:t._s(t.sanitized(t.labels.table_edit_form))},on:{click:function(s){return t.showEditFormDialog(e)}}})])])]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t"+t._s(e.count)+"\n\t\t\t\t")]),t._v(" "),s("td",[t.isDefault(e)?s("span",{staticClass:"dashicons dashicons-yes"}):t._e()]),t._v(" "),s("td",[t._v("\n\t\t\t\t\t"+t._s(e.role)+"\n\t\t\t\t")]),t._v(" "),t.isAddonInstalled?s("td",[t._v('\n\t\t\t\t\t[wpum_register form_id="'+t._s(e.id)+'"]\n\t\t\t\t')]):t._e(),t._v(" "),t.isAddonInstalled?s("td",[t._v("\n\t\t\t\t\t"+t._s(e.total_signups)+"\n\t\t\t\t")]):t._e(),t._v(" "),s("td",{staticClass:"align-middle"},[t.isDefault(e)||t.isAddonInstalled?s("router-link",{staticClass:"button",attrs:{to:{name:"form",params:{id:e.id}},tag:"button",type:"submit"}},[s("span",{staticClass:"dashicons dashicons-admin-settings"}),t._v(" "),s("span",{domProps:{textContent:t._s(t.sanitized(t.labels.table_customize))}})]):t._e(),t._v(" "),t.isDefault(e)?t._e():s("button",{staticClass:"button delete-btn",attrs:{type:"submit"},on:{click:function(s){return t.showDeleteDialog(e.name,e.id)}}},[s("span",{staticClass:"dashicons dashicons-trash"}),t._v(" "),s("span",{domProps:{textContent:t._s(t.sanitized(t.labels.table_delete_form))}})])],1)]):t._e()})],2)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"colspanchange",attrs:{colspan:"4"}},[e("div",{staticClass:"spinner is-active"})])}]},N=s("VU/8")(S,T,!1,null,null,null).exports,D=s("w/TU"),M=s.n(D),O=s("mDNQ"),A={name:"registration-form-editor",components:{draggable:M.a},data:function(){return{labels:wpumRegistrationFormsEditor.labels,pluginURL:wpumRegistrationFormsEditor.pluginURL,isAddonInstalled:wpumRegistrationFormsEditor.is_addon_installed,loading:!1,loadingSettings:!1,formID:"",formName:"...",availableFields:[],selectedFields:[],settings:{},settingsModel:{},showMessage:!1,showMessageSettings:!1,messageStatus:"success",messageContent:"",fields:{}}},computed:{droppableFieldAfter:function(){return O.a.applyFilters("droppableFieldAfter",[])}},created:function(){this.formID=this.$route.params.id,this.getForm()},methods:{classes:function(t){return["opk-field","text"==t?"regular-text":""]},getFieldComponentName:function(t){return"formit-"+t},getForm:function(){var t=this;this.loading=!0,r.a.get(wpumRegistrationFormsEditor.ajax,{params:{nonce:wpumRegistrationFormsEditor.getFormNonce,action:"wpum_get_registration_form",form_id:this.formID}}).then(function(e){t.loading=!1,t.formName=e.data.data.name,t.availableFields=e.data.data.available_fields,t.selectedFields=e.data.data.stored_fields}).catch(function(e){t.loading=!1,console.log(e)})},resetNotice:function(){var t=this;setTimeout(function(){t.showMessage=!1,t.showMessageSettings=!1},3e3)},saveFields:function(){var t=this;this.loading=!0,r.a.post(wpumRegistrationFormsEditor.ajax,m.a.stringify({nonce:wpumRegistrationFormsEditor.saveFormNonce,action:"wpum_save_registration_form",form_id:this.formID,fields:this.selectedFields}),{params:{action:"wpum_save_registration_form"}}).then(function(e){t.loading=!1,t.showMessage=!0,t.messageStatus="success",t.messageContent=wpumRegistrationFormsEditor.labels.success,t.resetNotice()}).catch(function(e){t.loading=!1,t.showMessage=!0,t.messageStatus="error",t.messageContent=wpumRegistrationFormsEditor.labels.error,t.resetNotice(),console.log(e)})},isComponentAvailable:function(t){return!!this.$root.$options.components["wpum-field-"+t]},showRegistrationAddonDialog:function(t){this.$modal.show(C,{type:t},{height:"220px"})}}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wpum-registration-form"},[s("h1",{staticClass:"wp-heading-inline"},[s("img",{attrs:{src:t.pluginURL+"assets/images/logo.svg",alt:"WP User Manager"}}),t._v("\n\t\t\t\t"+t._s(t.formName)+"\n\t\t\t")]),t._v(" "),s("router-link",{staticClass:"page-title-action wpum-icon-button circular",attrs:{to:"/","data-balloon":t.labels.page_back,"data-balloon-pos":"down"}},[s("span",{staticClass:"dashicons dashicons-arrow-left-alt"})]),t._v(" "),s("div",{staticClass:"optionskit-navigation-wrapper"},[s("div",{staticClass:"wp-filter",attrs:{id:"optionskit-navigation"}},[s("ul",{staticClass:"filter-links"},[s("li",[s("router-link",{attrs:{to:{name:"form",params:{id:this.formID}}}},[t._v(t._s(t.labels.table_fields))])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"form-settings",params:{id:this.formID}}}},[t._v(t._s(t.labels.settings))])],1)])])]),t._v(" "),s("div",{staticClass:"widget-liquid-right"},[s("div",{attrs:{id:"widgets-left"}},[s("div",{staticClass:"widgets-holder-wrap ui-droppable",attrs:{id:"available-widgets-d"}},[s("div",{staticClass:"sidebar-name"},[s("h2",[t._v(t._s(t.labels.editor_available_title))])]),t._v(" "),s("div",{staticClass:"sidebar-description"},[s("p",{staticClass:"description"},[t._v(t._s(t.labels.editor_available_desc))])]),t._v(" "),s("draggable",{staticClass:"dragArea available-fields-holder",attrs:{options:{group:"formFields",sort:!1,animation:150}},model:{value:t.availableFields,callback:function(e){t.availableFields=e},expression:"availableFields"}},t._l(t.availableFields,function(e){return s("div",{key:e.id,staticClass:"widget ui-draggable"},[s("div",{staticClass:"widget-top"},[s("div",{staticClass:"widget-title ui-draggable-handle"},[s("h3",[s("span",{class:"dashicons "+e.icon}),t._v(" "+t._s(e.name))])])])])}),0)],1)])]),t._v(" "),s("div",{staticClass:"widget-liquid-left"},[s("div",{staticClass:"wp-clearfix",attrs:{id:"widgets-right"}},[s("div",{staticClass:"sidebars-column-3"},[s("div",{staticClass:"widgets-holder-wrap"},[t.showMessage?s("wp-notice",{attrs:{type:t.messageStatus,alternative:""}},[t._v(t._s(t.messageContent))]):t._e(),t._v(" "),s("div",{staticClass:"widgets-sortables ui-droppable ui-sortable"},[s("div",{staticClass:"sidebar-name"},[s("h2",[t._v(t._s(t.labels.editor_current_title)+" "),t.loading?s("div",{staticClass:"spinner is-active"}):t._e()])]),t._v(" "),s("div",{staticClass:"sidebar-description"},[s("p",{staticClass:"description"},[t._v(t._s(t.labels.editor_used_fields))])]),t._v(" "),s("draggable",{staticClass:"droppable-fields",attrs:{options:{group:"formFields",animation:150}},on:{sort:t.saveFields},model:{value:t.selectedFields,callback:function(e){t.selectedFields=e},expression:"selectedFields"}},t._l(t.selectedFields,function(e,a){return s("div",{key:a,staticClass:"widget"},[t.isComponentAvailable(e.type)?s("wpum-field-"+e.type,{tag:"component",attrs:{field:e}}):s("div",{staticClass:"widget-top"},[s("div",{staticClass:"widget-title ui-sortable-handle"},[s("h3",[s("span",{class:"dashicons "+e.icon}),t._v(" "+t._s(e.name))])])])],1)}),0),t._v(" "),s("div",{staticClass:"droppable-fields-after"},[t._l(t.droppableFieldAfter,function(t){return[s(t,{key:t.name,tag:"component"})]}),t._v(" "),t.isAddonInstalled?t._e():s("p",{staticStyle:{"text-align":"right"}},[s("button",{staticClass:"button",on:{click:function(e){return t.showRegistrationAddonDialog("step")}}},[t._v("Add Step")]),t._v(" "),s("button",{staticClass:"button",on:{click:function(e){return t.showRegistrationAddonDialog("html")}}},[t._v("Add HTML")]),t._v(" "),s("modals-container")],1)],2)],1)],1)])])])],1)},staticRenderFns:[]},I=s("VU/8")(A,U,!1,null,null,null).exports,L={name:"registration-form-settings",components:{},data:function(){return{labels:wpumRegistrationFormsEditor.labels,pluginURL:wpumRegistrationFormsEditor.pluginURL,loading:!1,loadingSettings:!1,formID:"",formName:"...",settings:{},settingsModel:{},showMessage:!1,showMessageSettings:!1,messageStatus:"success",messageContent:""}},created:function(){this.formID=this.$route.params.id,this.getForm()},methods:{classes:function(t){return["opk-field","text"==t?"regular-text":""]},getFieldComponentName:function(t){return"formit-"+t},getForm:function(){var t=this;this.loading=!0,r.a.get(wpumRegistrationFormsEditor.ajax,{params:{nonce:wpumRegistrationFormsEditor.getFormNonce,action:"wpum_get_registration_form",form_id:this.formID}}).then(function(e){t.loading=!1,t.formName=e.data.data.name,t.settings=e.data.data.settings,t.settingsModel=e.data.data.settings_model}).catch(function(e){t.loading=!1,console.log(e)})},resetNotice:function(){var t=this;setTimeout(function(){t.showMessage=!1,t.showMessageSettings=!1},3e3)},saveSettings:function(){var t=this;this.loadingSettings=!0,r.a.post(wpumRegistrationFormsEditor.ajax,m.a.stringify({nonce:wpumRegistrationFormsEditor.saveFormSettingsNonce,form_id:this.formID,settings_model:this.settingsModel}),{params:{action:"wpum_save_registration_form_settings"}}).then(function(e){t.loadingSettings=!1,t.showMessageSettings=!0,t.messageStatus="success",t.messageContent=wpumRegistrationFormsEditor.labels.success,t.resetNotice()}).catch(function(e){t.loadingSettings=!1,t.showMessageSettings=!0,t.messageStatus="error",t.messageContent=wpumRegistrationFormsEditor.labels.error,t.resetNotice(),console.log(e)})}}},V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wpum-registration-form"},[s("h1",{staticClass:"wp-heading-inline"},[s("img",{attrs:{src:t.pluginURL+"assets/images/logo.svg",alt:"WP User Manager"}}),t._v("\n\t\t"+t._s(t.formName)+"\n\t")]),t._v(" "),s("router-link",{staticClass:"page-title-action wpum-icon-button circular",attrs:{to:"/","data-balloon":t.labels.page_back,"data-balloon-pos":"down"}},[s("span",{staticClass:"dashicons dashicons-arrow-left-alt"})]),t._v(" "),s("div",{staticClass:"optionskit-navigation-wrapper"},[s("div",{staticClass:"wp-filter",attrs:{id:"optionskit-navigation"}},[s("ul",{staticClass:"filter-links"},[s("li",[s("router-link",{attrs:{to:{name:"form",params:{id:this.formID}}}},[t._v(t._s(t.labels.table_fields))])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:{name:"form-settings",params:{id:this.formID}}}},[t._v(t._s(t.labels.settings))])],1)])])]),t._v(" "),t.showMessageSettings?s("wp-notice",{attrs:{type:t.messageStatus,alternative:""}},[t._v(t._s(t.messageContent))]):t._e(),t._v(" "),s("form",{staticClass:"opk-form",attrs:{action:"post"},on:{submit:function(e){return e.preventDefault(),t.saveSettings()}}},[s("div",{staticClass:"optionskit-form-wrapper"},[s("table",{staticClass:"form-table"},t._l(t.settings,function(e){return s("tr",{directives:[{name:"show",rawName:"v-show",value:!e.toggle||t.settingsModel[e.toggle.key]==e.toggle.value,expression:"! field.toggle || settingsModel[field.toggle.key] == field.toggle.value"}],key:e.id,staticClass:"registration-form-setting"},[s("th",{attrs:{scope:"row"}},[s("label",{attrs:{for:e.id}},[t._v(t._s(e.name))])]),t._v(" "),s("td",[s(t.getFieldComponentName(e.type),{tag:"component",class:t.classes(e.type),attrs:{field:e,disabled:t.loading||t.loadingSettings},model:{value:t.settingsModel[e.id],callback:function(s){t.$set(t.settingsModel,e.id,s)},expression:"settingsModel[field.id]"}}),t._v(" "),e.desc?s("p",{staticClass:"description"},[t._v(t._s(e.desc))]):t._e()],1)])}),0),t._v(" "),t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.labels.save,expression:"labels.save"}],staticClass:"button button-primary button-large",attrs:{type:"submit",disabled:t.loading||t.loadingSettings},domProps:{value:t.labels.save},on:{input:function(e){e.target.composing||t.$set(t.labels,"save",e.target.value)}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingSettings,expression:"loadingSettings"}],staticClass:"spinner is-active"})])])],1)},staticRenderFns:[]},P=s("VU/8")(L,V,!1,null,null,null).exports;a.a.use(o.a);var j=new o.a({routes:[{path:"/",name:"registration-forms-list",component:N},{name:"form",path:"/form/:id",component:I},{name:"form-settings",path:"/form/:id/settings",component:P}]}),q=s("tkJY"),z=s("rifk"),B=s.n(z),W=s("zrma"),H={name:"wpum-field-repeater",props:["field"],data:function(){return{childFields:[]}},created:function(){var t=this;r.a.get(wpumRegistrationFormsEditor.ajax,{params:{nonce:wpumRegistrationFormsEditor.getFormNonce,action:"wpum_get_registration_form_field",parent_id:this.field.id}}).then(function(e){t.$parent.loading=!1,e.data.data&&e.data.data.fields&&(t.childFields=e.data.data.fields)}).catch(function(e){t.$parent.loading=!1,console.error(e)})}},J={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"widget-top"},[s("div",{staticClass:"widget-title ui-sortable-handle"},[s("h3",[s("span",{class:"dashicons "+t.field.icon}),t._v(" "+t._s(t.field.name))])]),t._v(" "),s("div",{staticClass:"widget-content"},t._l(t.childFields,function(e){return s("div",{key:e.id,staticClass:"widget"},[s("div",{staticClass:"widget-top"},[s("h3",[s("span",{class:"dashicons "+e.icon}),t._v(" "+t._s(e.name))])])])}),0)])},staticRenderFns:[]};var Q=[s("VU/8")(H,J,!1,function(t){s("EAJj")},"data-v-3feb66c7",null).exports],K=s("RUzx"),G={name:"formit-multiselect",components:{Multiselect:s.n(K).a},props:{field:{}},data:function(){return{selected:null,multiple:this.isMultiple(),selectLabel:this.getLabel("selectLabel"),placeholder:this.getLabel("placeholder"),SelectedLabel:this.getLabel("SelectedLabel"),deselectLabel:this.getLabel("deselectLabel"),options:this.field.options}},mounted:function(){var t=this.field.current,e=this.field.options,s=[];if(t instanceof Array)t.forEach(function(t){var a=e.filter(function(e){return e.value==t});s.push({label:a[0].label,value:a[0].value})}),this.selected=s;else if(""==t)this.selected=null;else{var a=e.filter(function(e){return e.value==t});s.push({label:a[0].label,value:a[0].value}),this.selected=s}},methods:{getLabel:function(t){return this.field.labels?this.field.labels[t]:this.field.all_labels.multiselect[t]},isMultiple:function(){return!!this.field.multiple},triggerChange:function(t){var e=t;!0===this.multiple?(e=[],t.forEach(function(t){e.push(t.value)})):e=null===e?null:e.value,this.$emit("input",e)}}},X={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"opk-multiselect-field-wrapper"},[s("multiselect",{attrs:{options:t.options,multiple:t.multiple,selectLabel:t.selectLabel,placeholder:t.placeholder,SelectedLabel:t.SelectedLabel,deselectLabel:t.deselectLabel,"track-by":"value",label:"label"},on:{input:t.triggerChange},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)},staticRenderFns:[]};var Y=s("VU/8")(G,X,!1,function(t){s("FMNq")},null,null).exports,Z=s("uHTi"),tt=s("kBzv");a.a.use(W.a),a.a.use(q.a),a.a.use(B.a,{dialog:!0,dynamic:!0}),a.a.component("formit-multiselect",Y),a.a.component("field-repeater",Z.a),Q.forEach(function(t){a.a.component(t.name,t)}),a.a.config.productionTip=!1,Object(tt.a)({Vue:a.a,router:j}),new a.a({el:"#wpum-registration-forms-editor",router:j,components:{App:n},template:"<App/>"})},QkOS:function(t,e){},WBSg:function(t,e,s){"use strict";var a={name:"formit-text",mixins:[s("JHA3").a]},i={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",t._b({ref:"input",attrs:{type:"text",name:t.name},domProps:{value:t.currentValue},on:{input:t.handleInput,change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur}},"input",t.attributes,!1))},staticRenderFns:[]},n=s("VU/8")(a,i,!1,null,null,null);e.a=n.exports},a7UT:function(t,e,s){"use strict";var a=s("mtWM"),i=s.n(a),n=s("mw3O"),o=s.n(n),l=s("qe0n"),r=s.n(l),d=s("w/TU"),c=s.n(d),u=(s("4BeE"),s("TTEj")),m=s.n(u),p=(s("/dCL"),{name:"dialog-edit-field",props:{field_id:"",field_type:"",field_name:"",primary_id:"",updateStatus:""},components:{"vue-form-generator":r.a.component,draggable:c.a},data:function(){return{loading:!1,loadingFields:!1,error:!1,errorMessage:wpumFieldsEditor.labels.field_edit_settings_error,infoAvailable:!1,infoMessage:"",labels:wpumFieldsEditor.labels,tabs:wpumFieldsEditor.edit_dialog_tabs,settingsFields:"",activeTab:"general",disabledTabs:[],model:{},schema:{fields:[]},formOptions:{validateAfterLoad:!0,validateAfterChanged:!0},dropdownOptions:[]}},created:function(){this.setupTabs(),this.getSettings(),void 0===this.primary_id&&null===this.primary_id&&""===this.primary_id||this.maybeRemoveSidebarTabs();var t=r.a.validators.resources;t.fieldIsRequired=this.labels.field_error_required,t.invalidTextContainSpec=this.labels.field_error_special},methods:{getSettings:function(){var t=this;this.loadingFields=!0,this.error=!1,this.schema.fields=[],this.dropdownOptions=[],i.a.post(wpumFieldsEditor.ajax,o.a.stringify({nonce:wpumFieldsEditor.get_fields_nonce,group:this.activeTab,field_id:this.field_id,field_type:this.field_type}),{params:{action:"wpum_get_field_settings"}}).then(function(e){t.loadingFields=!1,null===e.data.data.settings?t.error=!0:(t.schema.fields=e.data.data.settings,t.model=e.data.data.model,t.dropdownOptions=e.data.data.dropdownOptions)}).catch(function(e){t.loadingFields=!1,t.error=!0})},activateTab:function(t){this.activeTab=t,this.getSettings()},getTabClasses:function(t){return["media-menu-item",this.activeTab==t?"active":""]},maybeRemoveSidebarTabs:function(){"username"==this.primary_id?this.disabledTabs=["validation","permissions"]:"user_email"==this.primary_id?this.disabledTabs=["validation"]:"user_password"==this.primary_id?this.disabledTabs=["validation","privacy","permissions"]:"user_nickname"==this.primary_id||"user_displayname"==this.primary_id?this.disabledTabs=["validation"]:"user_avatar"!=this.primary_id&&"user_cover"!=this.primary_id||(this.disabledTabs=["privacy","permissions"])},isTabDisabled:function(t){return m()(this.disabledTabs,t)},editField:function(){var t=this,e=this.$refs.vfg.validate();!1===e?(this.error=!0,this.errorMessage=this.labels.field_error_nosave):!0===e&&(this.loading=!0,this.error=!1,this.errorMessage=this.labels.field_edit_settings_error,i.a.post(wpumFieldsEditor.ajax,o.a.stringify({nonce:wpumFieldsEditor.get_fields_nonce,field_id:this.field_id,data:this.model,settings:this.schema.fields,dropdownOptions:this.dropdownOptions}),{params:{action:"wpum_update_field"}}).then(function(e){t.loading=!1,t.updateStatus("success"),t.$emit("close")}).catch(function(e){t.loading=!1,t.updateStatus("error"),t.$emit("close")}))},needsOptions:function(t){return["dropdown","multiselect","multicheckbox","radio"].indexOf(t)>-1},addOption:function(){!this.dropdownOptions instanceof Array&&(this.dropdownOptions=[]),this.dropdownOptions.push({value:null,label:null})},deleteOption:function(t){this.dropdownOptions.splice(t,1)},setupTabs:function(){"repeater"!==this.field_type&&(this.tabs=this.tabs.filter(function(t){return"fields"!==t.id})),this.activeTab=this.tabs&&this.tabs[0].id}}}),f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"edit-field-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-menu"},[s("div",{staticClass:"media-menu"},[t._l(t.tabs,function(e){return t.isTabDisabled(e.id)?t._e():s("a",{key:e.id,class:t.getTabClasses(e.id),on:{click:function(s){return t.activateTab(e.id)}}},[t._v(t._s(e.name))])}),t._v(" "),s("div",{staticClass:"separator"})],2)]),t._v(" "),s("div",{staticClass:"media-frame-title"},[s("h1",[t._v(t._s(t.field_name))])]),t._v(" "),s("div",{staticClass:"media-frame-content"},[t.loadingFields?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),t.error?s("wp-notice",{attrs:{type:"error",alternative:""}},[s("strong",[t._v(t._s(t.errorMessage))])]):t._e(),t._v(" "),t.loadingFields?t._e():s("vue-form-generator",{ref:"vfg",attrs:{schema:t.schema,model:t.model,options:t.formOptions}}),t._v(" "),"general"!=t.activeTab||t.loadingFields||!t.needsOptions(t.field_type)||t.primary_id?t._e():s("div",{staticClass:"vue-form-generator"},[s("div",{staticClass:"form-group field-input"},[s("label",{attrs:{for:"placeholder"}},[t._v(t._s(t.labels.field_options))]),t._v(" "),s("div",{staticClass:"field-wrap"},[s("div",{staticClass:"wrapper"},[s("draggable",{attrs:{options:{draggable:".dragme",handle:".option-sort",animation:150}},model:{value:t.dropdownOptions,callback:function(e){t.dropdownOptions=e},expression:"dropdownOptions"}},t._l(t.dropdownOptions,function(e,a){return t.dropdownOptions.length>0?s("div",{key:a,staticClass:"dropdown-option dragme"},[s("div",{staticClass:"option-value wpum_one_fifth"},[s("span",{staticClass:"dashicons dashicons-move option-sort"}),t._v(" "),s("button",{staticClass:"button delete-btn",attrs:{type:"button"},on:{click:function(e){return t.deleteOption(a)}}},[s("span",{staticClass:"dashicons dashicons-trash"})])]),t._v(" "),s("div",{staticClass:"option-label wpum_two_fifth"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dropdownOptions[a].value,expression:"dropdownOptions[index].value"}],attrs:{type:"text",placeholder:t.labels.field_option_value,name:"option[value][]"},domProps:{value:t.dropdownOptions[a].value},on:{input:function(e){e.target.composing||t.$set(t.dropdownOptions[a],"value",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"option-label wpum_two_fifth last"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dropdownOptions[a].label,expression:"dropdownOptions[index].label"}],attrs:{type:"text",placeholder:t.labels.field_option_label,name:"option[label][]"},domProps:{value:t.dropdownOptions[a].label},on:{input:function(e){e.target.composing||t.$set(t.dropdownOptions[a],"label",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"wpum_clearfix"})]):t._e()}),0),t._v(" "),s("input",{staticClass:"button",attrs:{type:"button",value:t.labels.field_add_option},on:{click:t.addOption}})],1)])])])],1),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading},on:{click:function(e){return t.editField()}}},[t._v(t._s(t.labels.save))])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]};var _=s("VU/8")(p,f,!1,function(t){s("urvO")},"data-v-8fc396d8",null);e.a=_.exports},hWF4:function(t,e,s){"use strict";var a={name:"formit-textarea",mixins:[s("JHA3").a]},i={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("textarea",t._b({ref:"input",attrs:{type:"text",name:t.name,cols:"50",rows:"5"},domProps:{value:t.currentValue},on:{input:t.handleInput,change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur}},"textarea",t.attributes,!1))},staticRenderFns:[]},n=s("VU/8")(a,i,!1,null,null,null);e.a=n.exports},kBzv:function(t,e,s){"use strict";s.d(e,"a",function(){return i});var a=s("mDNQ"),i=function(t){var e=t.Vue,s=t.router,i=new CustomEvent("wpum-api-ready",{detail:{Vue:e,Router:s,Hooks:a.a}});window.dispatchEvent(i)}},mDNQ:function(t,e,s){"use strict";var a=s("L4ss"),i=Object(a.a)();e.a=i},qpkK:function(t,e,s){"use strict";var a={name:"formit-radio",mixins:[s("JHA3").a],data:function(){return{checkedItems:[]}},created:function(){this.checkedItems=this.currentValue},methods:{isSelected:function(t){return this.currentValue.includes(t)}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"formit-radio-wrap"},t._l(t.selectOptions,function(e,a){return s("span",{key:a},[s("label",[s("input",t._b({ref:"input",refInFor:!0,attrs:{type:"radio",name:t.name},domProps:{value:a,checked:t.isSelected(a)},on:{input:t.handleInput,change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur}},"input",t.attributes,!1)),t._v("\n        "+t._s(e))]),s("br")])}),0)},staticRenderFns:[]},n=s("VU/8")(a,i,!1,null,null,null);e.a=n.exports},ssIX:function(t,e,s){"use strict";var a={name:"formit-select",mixins:[s("JHA3").a]},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("select",t._b({ref:"input",attrs:{name:t.name},domProps:{value:t.currentValue},on:{input:t.handleInput,change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur}},"select",t.attributes,!1),t._l(t.selectOptions,function(e,a){return s("option",{key:a,domProps:{value:a}},[t._v("\n            "+t._s(e)+"\n        ")])}),0)},staticRenderFns:[]},n=s("VU/8")(a,i,!1,null,null,null);e.a=n.exports},uHTi:function(t,e,s){"use strict";var a=s("woOf"),i=s.n(a),n=s("qe0n"),o=s.n(n),l=s("un2d"),r=s("w/TU"),d=s.n(r),c=s("mtWM"),u=s.n(c),m=s("mw3O"),p=s.n(m),f=s("a7UT"),_=s("+omK"),h={mixins:[o.a.abstractField],components:{"dialog-create-field":l.a,draggable:d.a},data:function(){return{labels:wpumFieldsEditor.labels,clonedLabels:i()({},wpumFieldsEditor.labels),fields:[],state:"list",repeater:null,editField:{},loading:!0}},methods:{getFields:function(){var t=this;this.$parent.loading=!0,u.a.get(wpumFieldsEditor.ajax,{params:{group_id:this.model.group,nonce:wpumFieldsEditor.get_fields_nonce,action:"wpum_get_fields_from_group",parent_id:this.model.parent}}).then(function(e){t.$parent.loading=!1,void 0!==e.data.data.fields&&e.data.data.fields.length>0&&(t.fields=e.data.data.fields),t.loading=!1}).catch(function(e){t.$parent.loading=!1,console.error(e),t.loading=!1})},addedNewField:function(t,e){this.state="list","error"!==t&&(this.getFields(),this.openEditFieldDialog(e.field_id,e.field_name,e.field_type,e.default_id))},openEditFieldDialog:function(t,e,s,a){var i=this;this.$modal.show(f.a,{field_id:t,field_name:e,field_type:s,primary_id:a,updateStatus:function(t){i.getFields()}},{height:"80%",width:"repeater"===s?"80%":"60%",clickToClose:!1})},openDeleteFieldDialog:function(t,e){var s=this;this.$modal.show(_.a,{field_id:t,field_name:e,updateStatus:function(t,e){s.getFields()}},{height:"230px"})},onSortingEnd:function(){var t=this;this.$parent.$parent.$parent.loading=!0,u.a.post(wpumFieldsEditor.ajax,p.a.stringify({nonce:wpumFieldsEditor.nonce,fields:this.fields}),{params:{action:"wpum_update_fields_order"}}).then(function(e){t.$parent.$parent.$parent.loading=!1}).catch(function(e){t.$parent.$parent.$parent.loading=!1})}},mounted:function(){this.labels.fields_add_new=this.labels.repeater_fields_add_new,this.labels.fields_create=this.labels.repeater_fields_create},created:function(){this.repeater=wpumFieldsEditor.fields_types.advanced.fields.find(function(t){return"repeater"===t.type}),this.repeater&&(wpumFieldsEditor.fields_types.advanced.fields=wpumFieldsEditor.fields_types.advanced.fields.filter(function(t){return"repeater"!==t.type})),this.getFields()},destroyed:function(){this.repeater&&wpumFieldsEditor.fields_types.advanced.fields.push(this.repeater),this.labels.fields_add_new=this.clonedLabels.fields_add_new,this.labels.fields_create=this.clonedLabels.fields_create}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"repeater-wrapper"},["add"===t.state?s("div",[s("dialog-create-field",{attrs:{group_id:t.$route.params.id.toString(),addNewField:t.addedNewField,parent:this.model.parent}})],1):s("div",[s("a",{staticClass:"page-title-action wpum-icon-button",on:{click:function(e){t.state="add"}}},[s("span",{staticClass:"dashicons dashicons-plus-alt"}),t._v(" "+t._s(t.labels.fields_add_new)+"\n\t\t")]),t._v(" "),s("table",{staticClass:"wp-list-table widefat fixed striped wpum-fields-groups-table"},[s("thead",[s("tr",[t.fields.length>1?s("th",{staticClass:"order-column",attrs:{scope:"col","data-balloon":t.labels.table_drag_tooltip,"data-balloon-pos":"right"}},[s("span",{staticClass:"dashicons dashicons-menu"})]):t._e(),t._v(" "),s("th",{staticClass:"column-primary",attrs:{scope:"col"}},[t._v(t._s(t.labels.fields_name))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col"}},[t._v(t._s(t.labels.fields_type))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col","data-balloon":t.labels.fields_required_tooltip,"data-balloon-pos":"up"}},[t._v(t._s(t.labels.fields_required))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col","data-balloon":t.labels.fields_visibility_tooltip,"data-balloon-pos":"up"}},[t._v(t._s(t.labels.fields_visibility))]),t._v(" "),s("th",{staticClass:"small-column",attrs:{scope:"col","data-balloon":t.labels.fields_editable_tooltip,"data-balloon-pos":"up"}},[t._v(t._s(t.labels.fields_editable))]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v(t._s(t.labels.table_actions))])])]),t._v(" "),t.loading?s("tbody",[s("tr",[s("td",{attrs:{colspan:t.fields.length>1?7:6}},[s("div",{staticClass:"spinner is-active"})])])]):s("draggable",{attrs:{element:"tbody",options:{handle:".order-anchor",animation:150}},on:{end:t.onSortingEnd},model:{value:t.fields,callback:function(e){t.fields=e},expression:"fields"}},t._l(t.fields,function(e){return s("tr",{key:e.id},[t.fields.length>1?s("td",{staticClass:"order-anchor align-middle"},[s("span",{staticClass:"dashicons dashicons-menu"})]):t._e(),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.type_nicename))]),t._v(" "),s("td",[!0===e.required?s("span",{staticClass:"dashicons dashicons-yes"}):t._e()]),t._v(" "),s("td",["public"==e.visibility?s("span",{staticClass:"dashicons dashicons-yes"}):s("span",{staticClass:"dashicons dashicons-hidden"})]),t._v(" "),s("td",["public"==e.editable?s("span",{staticClass:"dashicons dashicons-yes"}):s("span",{staticClass:"dashicons dashicons-lock"})]),t._v(" "),s("td",{staticClass:"align-middle"},[s("button",{staticClass:"button",on:{click:function(s){return t.openEditFieldDialog(e.id,e.name,e.type,e.default_id)}}},[s("span",{staticClass:"dashicons dashicons-edit"}),t._v(" "+t._s(t.labels.fields_edit))]),t._v(" "),s("button",{staticClass:"button delete-btn",on:{click:function(s){return t.openDeleteFieldDialog(e.id,e.name)}}},[s("span",{staticClass:"dashicons dashicons-trash"}),t._v(" "+t._s(t.labels.fields_delete))])])])}),0)],1)])])},staticRenderFns:[]};var g=s("VU/8")(h,v,!1,function(t){s("QkOS")},"data-v-4317fedc",null);e.a=g.exports},un2d:function(t,e,s){"use strict";var a=s("mtWM"),i=s.n(a),n=s("mw3O"),o=s.n(n),l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{class:t.selected,on:{click:function(e){return t.enable()}}},[s("div",{staticClass:"attachment-preview js--select-attachment"},[s("div",{staticClass:"thumbnail"},[s("div",{staticClass:"table-fixed"},[s("div",{staticClass:"table-cell"},[s("span",{class:t.classes})])])]),t._v(" "),s("div",{staticClass:"filename"},[s("div",[t._v(t._s(t.name))])])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"check",attrs:{type:"button",tabindex:"-1"}},[e("span",{staticClass:"media-modal-icon"}),this._v(" "),e("span",{staticClass:"screen-reader-text"},[this._v("Deselect")])])}]},r={name:"dialog-create-field",components:{FieldTypeBox:s("VU/8")({name:"field-type-box",props:{name:"",icon:"",type:"",enabled:!1},computed:{classes:function(){return["dashicons",this.icon]},selected:function(){return["attachment save-ready",this.enabled?"details selected":""]}},methods:{enable:function(t){this.$emit("click",t)}}},l,!1,null,null,null).exports},props:{group_id:"",addNewField:"",parent:{type:Number,default:0}},data:function(){return{loading:!1,labels:wpumFieldsEditor.labels,types:wpumFieldsEditor.fields_types,selectedTypeTab:"standard",newFieldName:"",newFieldType:""}},methods:{isDefault:function(t){return"default"==t},activateTypeTab:function(t){this.selectedTypeTab=t},getActiveTypeTabClasses:function(t){return["media-menu-item",t==this.selectedTypeTab&&"active"]},isTypeSelected:function(t){return this.newFieldType==t},selectFieldType:function(t){this.newFieldType=t},canSubmit:function(){return!!(this.newFieldName&&this.newFieldName.trim().length&&this.newFieldType&&this.newFieldType.trim().length)},createField:function(){var t=this;this.loading=!0,i.a.post(wpumFieldsEditor.ajax,o.a.stringify({nonce:wpumFieldsEditor.create_field_nonce,field_name:this.newFieldName,field_type:this.newFieldType,group_id:this.group_id,parent:this.parent}),{params:{action:"wpum_create_field"}}).then(function(e){t.loading=!1,t.addNewField("success",e.data.data),t.$emit("close")}).catch(function(e){t.loading=!1,t.addNewField("error",e.response.data),t.$emit("close")})}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media-modal-content wpum-dialog",attrs:{id:"create-field-dialog"}},[s("button",{staticClass:"media-modal-close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"media-frame mode-select wp-core-ui"},[s("div",{staticClass:"media-frame-title"},[s("h1",[t._v(t._s(t.labels.fields_add_new))])]),t._v(" "),s("div",{staticClass:"media-frame-router"},[s("div",{staticClass:"media-router"},t._l(t.types,function(e,a){return t.isDefault(a)?t._e():s("a",{key:a,class:t.getActiveTypeTabClasses(a),on:{click:function(e){return t.activateTypeTab(a)}}},[t._v("\n\t\t\t\t\t"+t._s(e.group_name)+"\n\t\t\t\t")])}),0)]),t._v(" "),s("div",{staticClass:"media-frame-content"},[s("form",{attrs:{action:"post"}},[s("label",{attrs:{for:"field-name"}},[t._v("\n\t\t\t\t\t"+t._s(t.labels.field_new_name)+"\n\t\t\t\t")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newFieldName,expression:"newFieldName"}],attrs:{type:"text",name:"field-name",id:"field-name",disabled:t.loading,placeholder:t.labels.field_new_placeholder},domProps:{value:t.newFieldName},on:{input:function(e){e.target.composing||(t.newFieldName=e.target.value)}}})]),t._v(" "),t._l(t.types,function(e,a){return t.selectedTypeTab!=a||t.isDefault(a)?t._e():s("div",{key:a,staticClass:"types-wrapper"},[s("ul",{staticClass:"attachments"},t._l(e.fields,function(e,a){return s("field-type-box",{key:a,attrs:{name:e.name,icon:e.icon,type:e.type,enabled:t.isTypeSelected(e.type)},on:{click:function(s){return t.selectFieldType(e.type)}}})}),1)])})],2),t._v(" "),s("div",{staticClass:"media-frame-toolbar"},[s("div",{staticClass:"media-toolbar"},[s("div",{staticClass:"media-toolbar-primary search-form"},[t.loading?s("div",{staticClass:"spinner is-active"}):t._e(),t._v(" "),s("button",{staticClass:"button media-button button-primary button-large media-button-insert",attrs:{type:"button",disabled:t.loading||!t.canSubmit()},domProps:{textContent:t._s(t.labels.fields_create)},on:{click:function(e){return t.createField()}}})])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"media-modal-icon"},[e("span",{staticClass:"screen-reader-text"},[this._v("Close panel")])])}]},c=s("VU/8")(r,d,!1,null,null,null);e.a=c.exports},urvO:function(t,e){}},["L0yy"]);
//# sourceMappingURL=registration-forms-editor.js.map