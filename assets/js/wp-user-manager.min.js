/*! WP User Manager - v2.3.11
 * https://wpusermanager.com
 * Copyright (c) 2020; * Licensed GPLv2+ */
jQuery(document).ready(function(a){a(document.body).on("click",".wpum-remove-uploaded-file",function(){return a(this).closest(".wpum-uploaded-file").remove(),!1}),a(".wpum-multiselect").select2({theme:"default"}),a(".wpum-datepicker:not([readonly])").flatpickr({dateFormat:wpumFrontend.dateFormat}),{form:a("form"),repeaters:{},init:function(){var b=this;a(".add-repeater-row").each(function(){var c=a(this).parents("fieldset");if(c.length){var d=c.get(0).classList[0];b.increaseInstance(d),b.validateMaxRows(d)}}),b.form.on("click",".add-repeater-row",function(){var c=a(this).parents("fieldset");c.length&&b.addNewInstance(c.get(0).classList[0])})},increaseInstance:function(a){this.repeaters[a]||this.resetInstance(a),this.repeaters[a]++},addNewInstance:function(a){this.addNewRepeaterRow(a),this.setupInstances(a)},resetInstance:function(a){this.repeaters[a]=0},addNewRepeaterRow:function(b){var c=a("."+b).last();if(c.length&&this.validateMaxRows(b)){var d=c.clone();d.find(":input").not(":button, :submit, :reset").val("").prop("checked",!1).prop("selected",!1).trigger("change"),d.insertAfter(c)}},setupInstances:function(b){var c=a("."+b),d=this;c.length&&(d.resetInstance(b),c.each(function(c){a(this).find(":input").each(function(){if(a(this).attr("name",a(this).prop("name").replace(new RegExp(/\[(.*?)\]/),function(){return"["+c+"]"})),c>0){var b=a(this).prop("id")+"_"+c;a(this).attr("id",b),a(this).closest("fieldset").find("label").attr("for",b)}}),d.increaseInstance(b)}))},validateMaxRows:function(b){var c=a("."+b),d=c.find(".add-repeater-row").data("max-row");return!d||parseInt(d)<1||(c.length<parseInt(d)||(c.find(".add-repeater-row").attr("disabled",!0),c.length<parseInt(d)))}}.init()});